Большинство базовый маршрутизаторов в Ларавел принимают URL и замыкание. Они предоставляют очень простой и понятный метод объявления маршрутов и их поведения без сложной конфигурации.  
  
```php  
use Illuminate\Support\Facades\Route;  
  
Route::get('/greeting', function () {  
  
return 'Hello World';  
  
});  
```

## Стандартные файлы маршрутов 

Все маршруты в Ларавел объявляются в файлах маршрутизации. Они находятся в папке
`routes` , в вашем проекте. Там находиться много различных файлов маршрутизации, каждый из них отвечает за свой тип маршрутов. Эти файлы загружаются автоматически благодаря файлу `App\Providers\RouteServiceProvider`. 


Разберём некоторые из них:
`routes/web.php`  -  определяет маршруты которые служат для вашего веб интерфейса. Если простым языком: они служат для отображения определённых элементов интерфейса на вашей странице при переходе по URL. Они находятся в `web middleware` группе, которая обеспечивает такие особенности как состояние сессии и CSRF защиту(ссылка на эту самую защиту). 

`routes/api.php`  - определяет маршруты, переходя по которым будут отправляться запросы на сервер с типом который вы выберете. Эти маршруты не имеют состояний и относятся к группе `api middleware` .

Большинство ваших приложений начинаются с работы над `web.php` файлом. В этом маршрутизаторе объявляется URL и callback функция которая и отвечает за отображение чего либо, что она возвращает. Пример объявление маршрута `/user` который будет отображать то что возвращает функция `index` в контроллере `UserController`, что такое контроллер(ссылка на страницу с контроллерами) мы разберём позже.

```php
use App\Http\Controllers\UserController;

Route::get('/user', [UserController::class, 'index']);
```

Маршруты файл `api.php` всегда будут иметь префикс `/api` который будет автоматически подставляются к URL который вы укажите. Вы можете изменить префиксы и другие группы маршрутов в классе ``RouteServiceProvider``

## Методы маршрутов

Объявляя маршрутов вы можете зарегистрировать за ним метод который отвечает за определённый HTTP запрос:

```php 
Route::get($uri, $callback);
Route::post($uri, $callback);
Route::put($uri, $callback);
Route::patch($uri, $callback);
Route::delete($uri, $callback);
Route::options($uri, $callback);
```

Иногда вам может понадобиться зарегистрировать несколько HTTP запросов, для этого 
нужно использовать метод `match`, и первым параметром передать список запросов.

```php
Route::match(['get', 'post'], '/', function () {
	//
});
```

Так вы можете зарегистрировать за маршрутом все существующие запросы при помощи метода `any`

```php
Route::any('/', function () {
	//
});
```

>[!Важно]
>При объявлении нескольких маршрутов с одинаковым URL, маршруты, использующие методы `get`,  `post`, `put`, `patch` и `delete` должны быть объявлены до маршрутов, использующих методы `any`, `redirect` и `match`. Для того чтобы запросы по этим маршрутом были сопоставленны правильно.

## Внедрение зависимостей

Для того, чтобы ваш маршрут отображал то, что вам надо вы должны внедрить зависимость к этому маршруту передав параметр зависимого элемента функцию callback/контроллер. Зависимость внедряется автоматически при помощи встроенного в Ларавел сервиса контейнеров(вставить ссылку). Пример: вы можете связать класс Request из `Illuminate\Http\Request` , callback функции этого класса автоматически свяжется с URL `/users`

```php
use Illuminate\Http\Request;

Route::get('/users', function (Request $request) {
	// ...
});
```

## CSRF защита

Запомните, любая HTML форма объявленная с запросом `POST`, `PUT`, `PATCH` или `DELETE` 
и отсылающая на маршрут в  `web`  должна включать поле CSRF токена. Иначе запрос с этой формы будет отклонён

```php
<form method="POST" action="/profile">
	@csrf
	//Какой-то код
</form>
```

## Перенаправляющие маршруты

Если вам нужно объявить маршрут который должен перенаправить пользователя не другой URL, то вам нужно задать ему метод `redirect`. Этот метод предоставляет удобное сокращённое объявление, поэтому вам не нужно описывать callback функции в параметрах для выполнения обычного перенаправления. Пример: Перенаправление URL `/here` на URL
`/there`

```php 
Route::redirect('/here', '/there');
```

Обычно метод `redirect` возвращает `302` код статуса. Если вам нужно его поменять, то вы можете добавить третий необязательный параметр.

```php
Route::redirect('/here', '/there', 301);
```

Или вы можете использовать метод `permanentRedirect` который возвратит `301` код статуса

```php
Route::permanentRedirect('/here', '/there');
```

>[!Важно]
>При использование `redirect` параметры `destination` и `status` не могут быть использованы, так как зарезервированы Ларавелом

## Список маршрутов

Если вам нужно узнать список всех маршрутов в вашем проекте, то вам следует использовать artisan команду `route:list`

```php
php artisan route:list
```

Middleware маршруты не будут отображаться при использовании `route:list` , если вы хотите вывести и их тоже, то используйте параметр `-v` 

```php
php artisan route:list -v
```

Отобразить только те маршруты которые начинаются с какого-нибудь URL можно
при помощи параметра `--path=<какое-то название>`. Пример: Отобразить маршруты начинающиеся с `api/`

```php
php artisan route:list --path=api
```

Отобразить все маршруты которые определенны сторонними пакетами можно при помощи параметра `--only-vendor`.

```php
php artisan route:list --only-vendor
```

Чтобы наоборот скрыть все маршруты, определённые сторонними пакетами, нужно использовать `--except-vendor`.

```php
php artisan route:list --only-vendor
```

