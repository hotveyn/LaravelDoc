## Обязательные параметры

Иногда вам нужно будет связать URL вместе с вашей callback функцией. Например: Связывание id пользователя, передаваемой из URL, с возвращаемой строкой, при помощи объявление параметра `$id` в функции.

```php
Route::get('/user/{id}', function ($id) {
	return 'User '.$id;
});
```

Вы можете объявлять столько параметров, сколько вам потребуется:

```php
Route::get('/posts/{post}/comments/{comment}', function ($postId, $commentId) {
	//
});
```

Параметры передающиеся из URL должны быть заключены в фигурные скобки - `{}`  и содержать только буквы, так же допускается использование нижнего тире -  `__` .
Параметры в callback функцию/контроллер передаются в порядке объявления в URL. Имена callback функции/контроллера не имеют значения.

### Параметры и внедрение зависимостей

Если вы используете внедрение зависимости то вам следует передавать параметры связанные с URL после параметра внедрённой зависимости.

```php
use Illuminate\Http\Request;

Route::get('/user/{id}', function (Request $request, $id) {

return 'User '.$id;

});
```

## Необязательные параметры

Иногда вам понадобиться добавить специальные параметры в которые не всегда нужно передавать какое-либо значение. В таком случае около параметра нужно указать знак вопроса `?` после имени параметра. После чего вы должны указать значение по умолчанию в соответствующею переменную в callback функции/контроллере.

```php
Route::get('/user/{name?}', function ($name = null) {

	return $name;

});

Route::get('/user/{name?}', function ($name = 'John') {

	return $name;

});
```

## Ограничение регулярных выражений

Вы можете ограничить формат параметров маршрута с помощью метода `where` для вашего маршрута. `where` принимает имя параметра и регулярное выражение, определяющее, как параметр должен быть ограничен:

```php 
Route::get('/user/{name}', function ($name) {
	//
})->where('name', '[A-Za-z]+');

Route::get('/user/{id}', function ($id) {
	//
})->where('id', '[0-9]+');

Route::get('/user/{id}/{name}', function ($id, $name) {
	//
})->where(['id' => '[0-9]+', 'name' => '[a-z]+']);
```

Для удобство, некоторые регулярные выражения имеют с помогающие методы, которые позволяют вам быстро добавить ограничение к маршруту.

```php
Route::get('/user/{id}/{name}', function ($id, $name) {
	//
})->whereNumber('id')->whereAlpha('name');

Route::get('/user/{name}', function ($name) {
	//
})->whereAlphaNumeric('name');

Route::get('/user/{id}', function ($id) {
	//
})->whereUuid('id');

Route::get('/category/{category}', function ($category) {
	//
})->whereIn('category', ['movie', 'song', 'painting']);
```

Если передаваемые параметры в URL не соответствует ограничением, то страница вернёт 404 HTTP ответ.

### Глобальные ограничения

Если вам нужно, чтобы параметры всегда были ограниченны определённым регулярным выражением, то вам нужно использовать `pattern` метод. Чтобы это ограничение работало вы должны объявить его в методе `boot` внутри `App\Providers\RouteServiceProvider` класса.

```php
/**
 * Define your route model bindings, pattern filters, etc.
 *
 * @return void
 */

public function boot()
{
	Route::pattern('id', '[0-9]+');
}
```

После объявления ограничения в `boot` он о будет автоматически ограничивать все маршруты которые использует те же параметры

### Слеши в ограничениях

Ларавел позволяет использовать все символы передаваемые в параметры кроме `/` . Если вы хотите использовать этот символ, вы должны явно разрешить его при помощь регулярного выражения `where` :

```php
Route::get('/search/{search}', function ($search) {
	return $search;
})->where('search', '.*');
```

>[!Важно]
> Знак прямого слеша поддерживаются только если они находятся в конце сегмента маршрута

